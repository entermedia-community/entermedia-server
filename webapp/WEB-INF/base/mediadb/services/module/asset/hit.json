#set($origUrl = $mediaarchive.asLinkToOriginal($hit))
#set($presets = $mediaarchive.asListOfPreviewLinks($hit) )

{
  #jsonpartial($hit $searcher.getPropertyDetails()) 
  	,"mediarendertype":"$!mediaarchive.getMediaRenderType($hit)"
  	,"originalurl" : "$!origUrl" 	
  	,"downloads":
  [
  #foreach( $preset in $presets )#if( ${foreach.count} != 1 ), #end
  {	
  	"name":#jesc($preset.name),	
  	"id":#jesc($preset.id),	
  	#if( $preset.getId() == "0")
  		###set( $url = "$home$apphome/services/module/asset/downloads/originals/${hit.sourcepath}/$hit.getMediaName()")
  		##"url":"#urlencode($url)"
  	#else
  		#set( $url = $mediaarchive.asLinkToGenerated($hit, $preset.get("generatedoutputfile") ) )
  		"url":"$url",
		#set( $view = $mediaarchive.asLinkToShare(null,$hit, $preset ) )
		"download":"$view"
  	#end	
  }
  #end
  ]
}