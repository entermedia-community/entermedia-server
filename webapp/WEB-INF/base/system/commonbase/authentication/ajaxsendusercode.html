
    
    #set($loginok = $context.findValue("loginokpage") ) 
	#set( $email = $context.getRequestParameter("email") )
	<div class="my-4 w-100">
	#if( $commandSucceeded == "ok")
    	<div class="mb-4 text-center text-contrast"><strong>[[Please check your email]]</strong></div>
    #else
    	$error
    #end
	<form name="login" 
		id="login"
		class="ajaxform  row justify-content-md-center" 
		data-targetdiv="ajaxloginformdiv"
		action="$home$content.loginroot/ajaxlogin.html" 
		method="POST" >
			<div class="col-12 col-md-6">
				<input class="form-control grabfocus required" id="entermediakey" name="templogincode" placeholder="[[Enter six digit login code]]" required />
			</div>	
				
			#if( $email )
			<input  type="hidden" name="email" value="$email" />
			#else
			<div class="col-12 col-md-6">
			<input class="form-control required grabfocus" type="text" name="email" size="50" placeholder="[[Enter your Email Address]]" required />
			</div>
			#end

			<div class="col-12 col-md-auto">
				<div class="d-flex justify-content-center">
					<input class="btn themed-btn" name="submit" type="submit" id="login-submit" value="[[Login]]" />
				</div>
			</div>
			#if($loginok)
			#set( $loginok = "$context.siteRoot" + "$loginok")
			<input type="hidden" name="loginokpage" value="#esc($!loginok)"/>
			#end
		

		#ifnotnull( $userCategory)
				<input type="hidden" name="categoryid" value="$userCategory.id" />
		#end
		
	</form>   
	</div>
	#if ( $context.getPageValue("oe-exception") )
			<div style="border: 1px solid black; width: 60%; text-align: center">$context.getPageValue("oe-exception")</div>
			$context.removeSessionValue("oe-exception")
	#end
	
