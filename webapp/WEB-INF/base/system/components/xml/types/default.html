
#if($detail.isMultiLanguage())
	<div class="${detail.id}-languages languages-field">
			#set($languages = $mediaarchive.getList("locale"))
			#set($map = $data.getValue($detail.getId()))
			#set($dlocale = $context.getLanguage() )
			<input type="hidden" value="#esc($val)" name="$!{detailprefix}${detail.getId()}.value" /> ##if this really needed?
			
			#set($language_count = 1)
			<div class="languageselector pull-left">
				#foreach($locale in $languages)
					#set($localval = $map.getText($locale.id))
					#if($localval && $localval != "")
						$pages.include("$apphome/components/xml/types/language/extralanguage.html?detailid=${detail.id}&count=$language_count&languagecode=$locale.id",$context)
						#set($language_count = $language_count+1)
					#end
					#set($localval = "")
				#end
				#if($language_count == 1)
				$pages.include("$apphome/components/xml/types/language/extralanguage.html?detailid=${detail.id}&count=$language_count&languagecode=$dlocale",$context)
				#end
				<div id="languagesextra_${detail.id}" ></div> 
			</div>
			
			<div style="padding: 10px" class="pull-left"> ##TODO, update the parameters using jQuery
				<a class="languagesavebtn" href="$home$apphome/components/xml/types/language/extralanguage.html" targetdiv="languagesextra_${detail.id}" data-detailid="${detail.id}" id=""><img src="$home$themeprefix/images/icons/addgray.png"></a>
			</div>
			
	</div>

#else
	#if( !$val || $val.length() < 30)
		<input type="text" class="detail_$detail.id autosubmited #if($detail.isRequired() && !$multiedit) required #end" #if( $autocomplete ) autocomplete="$autocomplete" #end value="#esc($val)"  id="${detail.getId()}.value" name="$!{detailprefix}${detail.getId()}.value"  onblur="if( typeof validate == 'function' ) validate('$searcher.getCatalogId()','$searcher.getSearchType()','$view','$detail.getId()');" />
	#else
		<textarea name="$!{detailprefix}${detail.getId()}.value" class="autosubmited #if($detail.isRequired() && !$multiedit) required #end" onChange="if( typeof validate == 'function' ) validate('$searcher.getCatalogId()','$searcher.getSearchType()','$view','$detail.getId()');" id="${detail.getId()}.value" cols="40" rows="5" >#esc($val)</textarea>
	#end
#end


