#set($id = $context.getRequestParameter('detailid'))
#set($dataid = $context.getRequestParameter('dataid'))
#set($searchtype = $context.getRequestParameter('searchtype'))
#set($view = $context.getRequestParameter('view'))
#set($val = $context.getRequestParameter('val'))
#set($searcher = $searcherManager.getSearcher($catalogid, $searchtype))
#if(!$detail)
#set($detail = $searcher.getDetail($id))
#end
#if(!$data)
	#set($data = $searcher.searchById($dataid))
	#set($val = $data.get($id))
#end
$context.putPageValue('data', $data )
$context.putPageValue('val', $val )

#set($viewtype = $context.getPageValue('viewtype'))
#if (!$viewtype)
	#set ($viewtype = $detail.viewType)
#end

#if (!$viewtype)
	#set ($viewtype = $detail.dataType)
#end

#if (!$viewtype || $viewtype== "text")
	#set ($viewtype = "default")
#end

$pages.include("$apphome/components/xml/typesreadonly/${viewtype}.html?viewonly=true", $context)

