#set($viewid = $context.getRequestParameter("viewid"))
#set($viewpath = $context.getRequestParameter("viewpath"))
#set( $moduleid = $context.findValue("moduleid") )

#set($id = $data.id )
#if( !$id )
	#set( $id = $context.getRequestParameter("id") )
#end
#set( $action = "$home$apphome/components/dialogedit/save.html")
<div id="formresults">


<div id="default-fields">
    <div id="editlayout">
    <form id="dialogeditform" class="ajaxform" targetdiv="formresults" name="dataeditor" method="post"   action="$action" enctype="multipart/form-data">
    	<input name="save" type="hidden" value="true" />
    	<input name="id" type="hidden" value="$!id" />
    	<input name="categoryid" type="hidden" value="$!categoryid" />
    	<input name="catalogid" type="hidden" value="$searcher.catalogId" />
    	<input name="searchtype" type="hidden" value="$searcher.searchType" />
    	<input name="viewid" type="hidden" value="$viewid" />
    	<input name="view" type="hidden" value="$viewpath" />

    	<input name="viewpath" type="hidden" value="$viewpath" />
    	<input name="origURL"  type="hidden" value="$!origURL" />
    	
    	$context.putPageValue("view", $viewpath)
$caneditdata 
#set( $origURL = $context.getRequestParameter("origURL" ) )
#set ( $moduleid = $context.findValue("module") )
#if($caneditdata) 
$pages.include("/$applicationid/components/xml/detaileditor.html", $context)
#else
##$pages.include("/$applicationid/components/xml/detaileditor.html?detailsreadonly=true&alwaysshow=true", $context)
$pages.include("/$applicationid/components/xml/detaileditor.html?detailsreadonly=true&alwaysshow=false", $context)
#end
    
    
    
    </form>
    
    
    
    </div>
</div>
<div class="modal-footer">

    <button class="btn btn-danger" id="saveproduct" onclick="jQuery('#dialogeditform').submit(); return false;">[[Save changes]]</button>
  </div>

</div>


<script type="text/javascript">
pause();
</script>
